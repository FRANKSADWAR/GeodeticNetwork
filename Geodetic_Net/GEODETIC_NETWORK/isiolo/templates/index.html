<!DOCTYPE html>
<html lang="en">
{% load static %} 
{% load crispy_forms_tags %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="{% static 'css/homeindex.css' %}" type="text/css">
    <link rel="stylesheet" href="{% static 'js/leaflet/leaflet.css' %}" type="text/css">
    <link rel="stylesheet" href="{% static 'js/leafletplugins/leafletDraw/leaflet.draw.css' %}">
    <link rel="stylesheet"  href="{% static 'js/leafletplugins/leaflet.groupedlayercontrol.css' %}"  type="text/css">
    <link rel="stylesheet" href="{% static 'js/leafletplugins/leafletSearch/leaflet-search.css' %}">
    <link rel="stylesheet" href="{% static 'js/leafletplugins/mousePosition/L.Control.MousePosition.css' %}">
    <link rel="stylesheet" href="{%static 'js/leafletplugins/Control.Geocoder.css' %}" type="text/css">
    <link rel="stylesheet" href="{%static 'js/leafletplugins/L.Control.Locate.css' %}" type="text/css">
    <link rel="stylesheet" href="{%static 'js/leafletplugins/leaflet-measure.css' %}" type="text/css">
    <link rel="stylesheet" href="{%static 'js/leafletplugins/leaflet-routing-machine.css' %}" type="text/css">
    <script src="{% static 'js/jquery/jquery.min.js' %}" type="text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js"></script>
    <title> ISIOLO GEODETIC CONTROLS </title>
</head>
<body>
   <div id="topbar">
     <div class="logo"><h3 id="branding"> ISIOLO GEODETIC CONTROLS </h3></div>
     <div class="navigation">
       <a href="{% url 'home' %}" class="one_line current">Home</a>
       <a href="{% url 'reporting'%}" class="one_line">Report</a>
       <span id="users">
           {% if request.user.is_authenticated %}
               Welcome  {{   request.user.first_name }}
               <a href="{% url 'logout'  %}">Logout</a>
           {% else %}
               <a href="{% url 'login' %}">Login</a>
           {% endif %} 
       </span>       
   </div>
   </div>
   <div id="bodycontainer">
     <div class="sidenavigator">
         <div id="bar_chart">
            <canvas id="myChart" width="400" height="200"></canvas>
                <script>
                    const ctx = document.getElementById('myChart').getContext('2d');
                    const myChart = new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: [{% for data in data %} '{{ data.status }}', {% endfor %}],
                            datasets: [{
                                label: 'Types of Geodetic control stations in Isiolo',
                                data: [{% for data in data %} {{ data.dcount }}, {% endfor %}],
                                backgroundColor: [
                                    '#3dc1d3',
                                    '#2ecc71',
                                    '#2980b9',
                                    '#2C3A47',
                                    '#009432',
                                ],
                                borderColor: [
                                    '#3dc1d3',
                                    '#2ecc71',
                                    '#2980b9',
                                    '#2C3A47',
                                    '#009432',
                                ],
                                borderWidth: 1
                            }]
                        },
                        options: {
                            scales: {
                                y: {
                                    beginAtZero: true
                                }
                            }
                        }
                    });
                </script>
         </div>
         <div id=pie_chart>
            <canvas id="myChart2" width="400" height="200"></canvas>
            <script>
                const ctx2 = document.getElementById('myChart2').getContext('2d');
                const myChart2 = new Chart(ctx2, {
                    type: 'doughnut',
                    data: {
                        labels: [{% for data in data %} '{{ data.status }}', {% endfor %}],
                        datasets: [{
                            label: 'Types of Geodetic control stations in Isiolo',
                            data: [{% for data in data %} {{ data.dcount }}, {% endfor %}],
                            backgroundColor: [
                                '#3dc1d3',
                                '#2ecc71',
                                '#2980b9',
                                '#2C3A47',
                                '#009432',
                            ],
                            borderColor: [
                                '#3dc1d3',
                                '#2ecc71',
                                '#2980b9',
                                '#2C3A47',
                                '#009432',
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            </script>
         </div>
     </div>
     <div class="maincontents">
          <div id="maparea"></div>
     </div>
   </div>

  <div id="bottompage">
  </div>
  <script src="{% static 'js/leaflet/leaflet.js' %}" type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/L.Control.Locate.min.js' %}" type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leaflet-measure.min.js' %}" type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/Control.Geocoder.js'  %}" type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/easy-button.js'  %}" type="text/javascript"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css" />
  <script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js"></script>

  <script src= "{% static 'js/leafletplugins/leafletDraw/Leaflet.draw.js' %}"  type="text/javascript"></script>
  <script src= "{% static 'js/leafletplugins/leafletDraw/Leaflet.Draw.Event.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/Control.Draw.js' %}"   type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/Toolbar.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/Tooltip.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/TouchEvents.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/GeometryUtil.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/LatLngUtil.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/LineUtil.Intersect.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/Polygon.Intersect.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/Polyline.Intersect.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/DrawToolbar.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/Draw.Feature.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/Draw.SimpleShape.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/Draw.Polyline.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/Draw.Marker.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/Draw.Circle.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/Draw.CircleMarker.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/Draw.Polygon.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/Draw.Rectangle.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/EditToolbar.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/EditToolbar.Edit.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/EditToolbar.Delete.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/Edit.Poly.js' %}"   type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/Edit.SimpleShape.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/Edit.Rectangle.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/Edit.Marker.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/Edit.Circle.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletDraw/Edit.CircleMarker.js' %}"  type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leaflet.ajax.js' %}" type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leaflet.groupedlayercontrol.js'%}" type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/leafletSearch/leaflet-search.js'%}" type="text/javascript"></script>
  <script src="{% static 'js/leafletplugins/mousePosition/L.Control.MousePosition.js'%}" type="text/javascript"></script>
  <script src="{% static 'js/jquery/jquery.min.js' %}" type="text/javascript"></script>
  <script src="{% static 'js/mapscript.js' %}" type="text/javascript"></script>
  
  
</body>
</html>
